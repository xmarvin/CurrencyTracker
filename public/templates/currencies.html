<section>
    <div ng-if="isLoading">
        Loading...
    </div>
    <div ng-controller="CurrenciesStatsController as statsCtl">
        <div id="collected_currencies_chart" simple-pie class="simple_pie_chart" width='300' height='100'>
        </div>
        <div style="clear: both"></div>
        <hr/>
        <div id="progress_chart" progress-chart title="Currencies">
        </div>
    </div>
    <h1>Currencies</h1>
    <div style="clear: both"></div>
    <div style="float: left">
        <button ng-disabled="changedCurrenciesCount() == 0" ng-click="markCollected()">Collected selected</button>
    </div>
    <div style="float: right">
        <input class="search-query" type="search" ng-model="searchText" placeholder="Search...">
    </div>
    <div style="clear: both"></div>
    <div ng-include src="'/templates/partials/navigation.html'"></div>
    <table>
        <tr>
            <th><input type="checkbox" ng-model="selectedAll" ng-click="checkAll()"></th>
            <th>Name</th>
            <th>Country</th>
            <th>Code</th>
            <th>Status</th>
        </tr>
        <tr ng-repeat="currency in currencies">
            <td>
                <input type="checkbox" ng-model="currency.checked"/>
            </td>
            <td>{{ currency.name }}</td>
            <td>{{ currency.country_name }}</td>
            <td>{{ currency.code }}</td>
            <td>
                <span ng-if="currency.collected">
                  Collected
                </span>
                <span ng-if="!currency.collected">
                  Not collected
                </span>
            </td>
        </tr>
    </table>
</section>